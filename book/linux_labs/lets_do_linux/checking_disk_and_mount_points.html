<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Checking Disk and Mount Points - ProLUG üêß Labs Notebook</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Linux üêß and System skills to get the job">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/pagetoc.css">
        <link rel="stylesheet" href="../../.\.\mdbook-admonish.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">ProLUG üêß Labs</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">üêß Linux Labs</li><li class="chapter-item expanded "><a href="../../linux_labs/lets_do_linux/introduction.html"><strong aria-hidden="true">2.</strong> Let's Do Linux üêß</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../linux_labs/lets_do_linux/look_around_a_linux_system.html"><strong aria-hidden="true">2.1.</strong> Look Around a Linux System</a></li><li class="chapter-item expanded "><a href="../../linux_labs/lets_do_linux/checking_kernel_and_packages.html"><strong aria-hidden="true">2.2.</strong> Checking Kernel and Packages</a></li><li class="chapter-item expanded "><a href="../../linux_labs/lets_do_linux/checking_disk_and_mount_points.html" class="active"><strong aria-hidden="true">2.3.</strong> Checking Disk and Mount Points</a></li><li class="chapter-item expanded "><a href="../../linux_labs/lets_do_linux/ip_and_open_port_information.html"><strong aria-hidden="true">2.4.</strong> IP and Open Port Information</a></li><li class="chapter-item expanded "><a href="../../linux_labs/lets_do_linux/connecting_to_systems_and_pushing_or_pulling.html"><strong aria-hidden="true">2.5.</strong> Connecting to Systems and Pushing or Pulling Files</a></li><li class="chapter-item expanded "><a href="../../linux_labs/lets_do_linux/screen_commands_and_persistent_connections.html"><strong aria-hidden="true">2.6.</strong> Screen Commands and Persistent Connections</a></li><li class="chapter-item expanded "><a href="../../linux_labs/lets_do_linux/dns_and_finding_resources.html"><strong aria-hidden="true">2.7.</strong> DNS and Finding Resources</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Let's Do Linux Configurations üêß</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">3.1.</strong> NFS Sharing and Persistent Connection</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.2.</strong> Apache Webserver Install and Setup</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.3.</strong> Grafana Monitoring of Logs with Loki and Promtail</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.4.</strong> Grafana Monitoring of Telemetry Data with Prometheus and Node Exporter</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.5.</strong> Install ClamAV on Linux</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Let's Do Linux Security üêß</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">4.1.</strong> Unusual User Behavior - Attempted Login</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.2.</strong> Unusual User Behavior - Attempted Sudo</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Kubernetes Labs</li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Kafka in Kubernetes Lab</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">5.1.</strong> Kubernetes Deployemts</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Kubernetes CKA Labs</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Troubleshooting for CKA Part 1</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Troubleshooting for CKA Part 2</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Kubernetes Deployments</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> Blue Green Deploy with Kubernetes</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> Canary Deployment with Kubernetes</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Ansible Labs</li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Ansible Intro</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Install Ansible and Verify Functionality</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.2.</strong> Setup Ansible Host File and Test Connectivity</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.3.</strong> Ad Hoc Commands - Shell and Setup</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.4.</strong> Ad Hoc Commands - Copy and Lineinfile</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Ansible Playbook</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">9.1.</strong> Playbook to Stage a .tar.gz File</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> Playbook to Deploy an Application</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.3.</strong> Playbook to Deploy jinja2</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.4.</strong> Playbook to Deploy jinja2 Report</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.5.</strong> Playbook to Call an API and 'Debug' Variables</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.6.</strong> Playbook to Call Ansible Vault with Variables</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.7.</strong> Playbook to Push MOTD to All Servers</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.8.</strong> Playbook to Push Facts to All Servers</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.9.</strong> Playbook to Create Users on Different Servers</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.10.</strong> Playbook to Modify Packages on Servers</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.11.</strong> Ansible-Galaxy and Roles in a Playbook</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.12.</strong> Web Server Environment Deployment in Ansible</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Hashicorp Labs</li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Hashicorp Sandbox</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">10.1.</strong> Hashicorp Sandbox</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Let's Do Hashicorp Terraform</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">11.1.</strong> Installing Terraform in a Lab</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.2.</strong> Using Terraform for Container Deployments</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.</strong> Let's Do Hasicorp Vault</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">12.1.</strong> Installing Vault in a Lab</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.2.</strong> Starting Vault in Dev Modes</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.3.</strong> Starting Vault and Exploring UI Features</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../contributors.html">Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">ProLUG üêß Labs Notebook</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ScriptAlchemist/ProLUG-labs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/ScriptAlchemist/ProLUG-labs/edit/main/src/linux_labs/lets_do_linux/checking_disk_and_mount_points.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main><div class="sidetoc"><nav class="pagetoc"></nav></div>
                        <h1 id="checking-disk-and-mount-points-"><a class="header" href="#checking-disk-and-mount-points-">Checking disk and mount points üêß</a></h1>
<h2 id="linux-commands-for-physical-disks"><a class="header" href="#linux-commands-for-physical-disks">Linux Commands for physical disks</a></h2>
<blockquote>
<p>üí¨ Check the physical disk information üêß üêß üêß</p>
<p>üêß Echo the number of physical disks you have into <code>/root/disks</code></p>
<p>üêß Echo the number of partitions of that disk into <code>/root/partitions</code></p>
</blockquote>
<hr />
<h2 id="-check-disk-information-and-count-partitions"><a class="header" href="#-check-disk-information-and-count-partitions">üêß Check disk information and count partitions</a></h2>
<p>Input:</p>
<pre><code class="language-bash">fdisk -l | grep -i vd
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ fdisk -l | grep -i vd
Disk /dev/vda: 20 GiB, 21474836480 bytes, 41943040 sectors
/dev/vda1  227328 41943006 41715679 19.9G Linux filesystem
/dev/vda14   2048    10239     8192    4M BIOS boot
/dev/vda15  10240   227327   217088  106M EFI System
</code></pre>
<h3 id="-why-do-we-use-vd"><a class="header" href="#-why-do-we-use-vd">üí¨ Why do we use VD?</a></h3>
<pre><code class="language-text editable">// What do you think?


</code></pre>
<h2 id="-lets-use-another-command-to-see-that-information-another-way"><a class="header" href="#-lets-use-another-command-to-see-that-information-another-way">üêß Let's use another command to see that information another way</a></h2>
<p>Input:</p>
<pre><code class="language-bash">lsblk
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ lsblk
NAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
loop0     7:0    0 63.2M  1 loop /snap/core20/1634
loop1     7:1    0 67.8M  1 loop /snap/lxd/22753
loop2     7:2    0   48M  1 loop /snap/snapd/17336
vda     252:0    0   20G  0 disk 
|-vda1  252:1    0 19.9G  0 part /
|-vda14 252:14   0    4M  0 part 
`-vda15 252:15   0  106M  0 part /boot/efi
</code></pre>
<p>and</p>
<p>Input:</p>
<pre><code class="language-bash">blkid
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ blkid
/dev/vda1: LABEL=&quot;cloudimg-rootfs&quot; UUID=&quot;666195bb-9c58-470d-9495-743ff99e48c8&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;1b586e7b-ba4c-4d6b-9ca6-2502f02cf595&quot;
/dev/vda15: LABEL_FATBOOT=&quot;UEFI&quot; LABEL=&quot;UEFI&quot; UUID=&quot;B8F2-0510&quot; TYPE=&quot;vfat&quot; PARTUUID=&quot;27df778d-f6e2-4441-b310-124faa31cc3e&quot;
/dev/loop0: TYPE=&quot;squashfs&quot;
/dev/loop1: TYPE=&quot;squashfs&quot;
/dev/loop2: TYPE=&quot;squashfs&quot;
/dev/vda14: PARTUUID=&quot;aab173d6-e275-429d-bb29-e66fbfa1c06b&quot;
</code></pre>
<h2 id="-after-that-we-can-run-our-disk-information-into-rootdisks-and-rootpartitions"><a class="header" href="#-after-that-we-can-run-our-disk-information-into-rootdisks-and-rootpartitions">üêß After that we can run our disk information into <code>/root/disks</code> and <code>/root/partitions</code></a></h2>
<p>Input:</p>
<pre><code class="language-bash">echo 1 &gt; /root/disks
echo 3 &gt; /root/partitions
</code></pre>
<hr />
<h2 id="linux-commands-for-filesystems-and-mountpoints"><a class="header" href="#linux-commands-for-filesystems-and-mountpoints">Linux Commands for filesystems and mountpoints</a></h2>
<blockquote>
<p>üí¨ Check filesystem type and mount points üêß üêß üêß</p>
<p>üêß Echo the filesystem type of the root partition into <code>/root/fstype</code></p>
<p>üêß Echo the name of the file that defines all the mount points into <code>/root/mountinfo</code></p>
</blockquote>
<h2 id="-check-what-partition-the-root--filesystem-is-mounted-from"><a class="header" href="#-check-what-partition-the-root--filesystem-is-mounted-from">üêß Check what partition the root (/) filesystem is mounted from</a></h2>
<p>Input:</p>
<pre><code class="language-bash">mount | grep vda
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ mount | grep vda
/dev/vda1 on / type ext4 (rw,relatime)
/dev/vda15 on /boot/efi type vfat (rw,relatime,fmask=0077,dmask=0077,codepage=437,iocharset=iso8859-1,shortname=mixed,errors=remount-ro)
</code></pre>
<h3 id="-check-the-filesystem-written-to-that-partition"><a class="header" href="#-check-the-filesystem-written-to-that-partition">üí¨ Check the filesystem written to that partition.</a></h3>
<h2 id="-lets-use-another-command-to-see-that-information-another-way-1"><a class="header" href="#-lets-use-another-command-to-see-that-information-another-way-1">üêß Let's use another command to see that information another way</a></h2>
<p>Input:</p>
<pre><code class="language-bash">blkid /dev/vda1
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ blkid /dev/vda1
/dev/vda1: LABEL=&quot;cloudimg-rootfs&quot; UUID=&quot;666195bb-9c58-470d-9495-743ff99e48c8&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;1b586e7b-ba4c-4d6b-9ca6-2502f02cf595&quot;
</code></pre>
<h2 id="-you-see-the-type-is-ext4-write-that-out-to-rootfstype"><a class="header" href="#-you-see-the-type-is-ext4-write-that-out-to-rootfstype">üêß You see the type is ext4. Write that out to <code>/root/fstype</code></a></h2>
<p>Input:</p>
<pre><code class="language-bash">blkid /dev/vda1 &gt; /root/fstype
</code></pre>
<h2 id="-check-the-etcfstab-to-see-how-your-system-is-mounting-all-its-partitions-as-it-comes-up"><a class="header" href="#-check-the-etcfstab-to-see-how-your-system-is-mounting-all-its-partitions-as-it-comes-up">üêß Check the <code>/etc/fstab</code> to see how your system is mounting all it's partitions as it comes up.</a></h2>
<p>Input:</p>
<pre><code class="language-bash">cat /etc/fstab
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ cat /etc/fstab
LABEL=cloudimg-rootfs   /        ext4   defaults        0 1
LABEL=UEFI      /boot/efi       vfat    umask=0077      0 1
</code></pre>
<h2 id="-but-that-mapping-is-strange-so-to-demystify-it-use-this-command"><a class="header" href="#-but-that-mapping-is-strange-so-to-demystify-it-use-this-command">üêß But that mapping is strange, so to demystify it, use this command</a></h2>
<p>Input:</p>
<pre><code class="language-bash">ls -l /dev/disk/by-label
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ ls -l /dev/disk/by-label
total 0
lrwxrwxrwx 1 root root 11 Apr 11 13:32 UEFI -&gt; ../../vda15
lrwxrwxrwx 1 root root 10 Apr 11 13:32 cloudimg-rootfs -&gt; ../../vda1
</code></pre>
<h2 id="-there-are-4-ways-to-mount-disk-label-partuuid-path-and-uuid-you-can-verify-this-by-looking-in-each-of-these-locations-this-gives-you-how-the-system-is-mapping-to-the-underlying-disks"><a class="header" href="#-there-are-4-ways-to-mount-disk-label-partuuid-path-and-uuid-you-can-verify-this-by-looking-in-each-of-these-locations-this-gives-you-how-the-system-is-mapping-to-the-underlying-disks">üêß There are 4 ways to mount disk: label, partuuid, path, and uuid. You can verify this by looking in each of these locations. This gives you how the system is mapping to the underlying disks</a></h2>
<p>Input:</p>
<pre><code class="language-bash">for type in $(ls /dev/disk); do echo &quot;type is $type&quot;; ls -l /dev/disk/$type; done
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ for type in $(ls /dev/disk); do echo &quot;type is $type&quot;; ls -l /dev/disk/$type; done
type is by-label
total 0
lrwxrwxrwx 1 root root 11 Apr 11 13:32 UEFI -&gt; ../../vda15
lrwxrwxrwx 1 root root 10 Apr 11 13:32 cloudimg-rootfs -&gt; ../../vda1
type is by-partuuid
total 0
lrwxrwxrwx 1 root root 10 Apr 11 13:32 1b586e7b-ba4c-4d6b-9ca6-2502f02cf595 -&gt; ../../vda1
lrwxrwxrwx 1 root root 11 Apr 11 13:32 27df778d-f6e2-4441-b310-124faa31cc3e -&gt; ../../vda15
lrwxrwxrwx 1 root root 11 Apr 11 13:32 aab173d6-e275-429d-bb29-e66fbfa1c06b -&gt; ../../vda14
type is by-path
total 0
lrwxrwxrwx 1 root root  9 Apr 11 13:32 pci-0000:04:00.0 -&gt; ../../vda
lrwxrwxrwx 1 root root 10 Apr 11 13:32 pci-0000:04:00.0-part1 -&gt; ../../vda1
lrwxrwxrwx 1 root root 11 Apr 11 13:32 pci-0000:04:00.0-part14 -&gt; ../../vda14
lrwxrwxrwx 1 root root 11 Apr 11 13:32 pci-0000:04:00.0-part15 -&gt; ../../vda15
lrwxrwxrwx 1 root root  9 Apr 11 13:32 virtio-pci-0000:04:00.0 -&gt; ../../vda
lrwxrwxrwx 1 root root 10 Apr 11 13:32 virtio-pci-0000:04:00.0-part1 -&gt; ../../vda1
lrwxrwxrwx 1 root root 11 Apr 11 13:32 virtio-pci-0000:04:00.0-part14 -&gt; ../../vda14
lrwxrwxrwx 1 root root 11 Apr 11 13:32 virtio-pci-0000:04:00.0-part15 -&gt; ../../vda15
type is by-uuid
total 0
lrwxrwxrwx 1 root root 10 Apr 11 13:32 666195bb-9c58-470d-9495-743ff99e48c8 -&gt; ../../vda1
lrwxrwxrwx 1 root root 11 Apr 11 13:32 B8F2-0510 -&gt; ../../vda15
</code></pre>
<h2 id="-remember-to-put-the-file-that-the-system-uses-to-mount-the-disks-into-rootmountinfo"><a class="header" href="#-remember-to-put-the-file-that-the-system-uses-to-mount-the-disks-into-rootmountinfo">üêß Remember to put the file that the system uses to mount the disks into <code>/root/mountinfo</code></a></h2>
<p>Input:</p>
<pre><code class="language-bash">echo &quot;/etc/fstab&quot; &gt; /root/mountinfo
</code></pre>
<hr />
<h2 id="linux-commands-disk-space-and-inodes"><a class="header" href="#linux-commands-disk-space-and-inodes">Linux Commands disk space and inodes</a></h2>
<blockquote>
<p>üí¨ Check disk size and usage üêß üêß üêß</p>
<p>üêß Find the size of the partition root (/) and put it in a file called <code>/root/size</code></p>
<p>üêß Place a single file that is 3G at location <code>/root/bigfile</code></p>
<p>üêß Place 10,000 files called file{1..10000} in <code>/root</code> directory</p>
</blockquote>
<h2 id="-check-the-overall-current-disk-space"><a class="header" href="#-check-the-overall-current-disk-space">üêß Check the overall current disk space</a></h2>
<p>Input:</p>
<pre><code class="language-bash">df -h
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ df -h
Filesystem      Size  Used Avail Use% Mounted on
udev            975M     0  975M   0% /dev
tmpfs           199M  1.0M  198M   1% /run
/dev/vda1        20G  4.4G   15G  23% /
tmpfs           992M     0  992M   0% /dev/shm
tmpfs           5.0M     0  5.0M   0% /run/lock
tmpfs           992M     0  992M   0% /sys/fs/cgroup
/dev/loop0       64M   64M     0 100% /snap/core20/1634
/dev/loop1       68M   68M     0 100% /snap/lxd/22753
/dev/loop2       48M   48M     0 100% /snap/snapd/17336
/dev/vda15      105M  5.2M  100M   5% /boot/efi
</code></pre>
<h2 id="-write-out-the-size-of-just-root--to-rootsize"><a class="header" href="#-write-out-the-size-of-just-root--to-rootsize">üêß Write out the size of just root (/) to <code>/root/size</code></a></h2>
<p>Input:</p>
<pre><code class="language-bash">df -h / | grep -v Size | awk '{print $2}' &gt; /root/size
</code></pre>
<h3 id="-this-command-just-cuts-out-the-unnecessary-information-you-can-check-its-output-by-removing--rootsize-if-you-like"><a class="header" href="#-this-command-just-cuts-out-the-unnecessary-information-you-can-check-its-output-by-removing--rootsize-if-you-like">üí¨ This command just cuts out the unnecessary information. You can check it's output by removing <code>&gt; /root/size</code>, if you like</a></h3>
<pre><code class="language-bash">ubuntu $ df -h / | grep -v Size | awk '{print $2}'
20G
</code></pre>
<h2 id="-lets-make-a-giant-file-filled-with-0s-and-then-check-available-space"><a class="header" href="#-lets-make-a-giant-file-filled-with-0s-and-then-check-available-space">üêß Let's make a giant file filled with 0's and then check available space</a></h2>
<p>Input:</p>
<pre><code class="language-bash">dd if=/dev/zero of=/root/bigfile bs=1024k count=3000
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ dd if=/dev/zero of=/root/bigfile bs=1024k count=3000
3000+0 records in
3000+0 records out
3145728000 bytes (3.1 GB, 2.9 GiB) copied, 4.65708 s, 675 MB/s
</code></pre>
<h2 id="-re-check-size-to-see-that-the-filesystem-is-much-more-full-now"><a class="header" href="#-re-check-size-to-see-that-the-filesystem-is-much-more-full-now">üêß Re-Check size to see that the filesystem is much more full now</a></h2>
<p>Input:</p>
<pre><code class="language-bash">df -h /
ls -lh /root/bigfile
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ df -h /
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1        20G  7.3G   12G  38% /
</code></pre>
<pre><code>ubuntu $ ls -lh /root/bigfile
-rw-r--r-- 1 root root 3.0G Apr 20 09:09 /root/bigfile
</code></pre>
<h2 id="-lets-write-out-10000-files-and-see-how-that-affects-out-inode-usage"><a class="header" href="#-lets-write-out-10000-files-and-see-how-that-affects-out-inode-usage">üêß Let's write out 10,000 files and see how that affects out inode usage</a></h2>
<p>Input:</p>
<pre><code class="language-bash">df -i /
touch /root/file{1..10000}
ls /root | wc -l
df -i /
</code></pre>
<p>Example Output:</p>
<pre><code>ubuntu $ df -i /
Filesystem      Inodes  IUsed   IFree IUse% Mounted on
/dev/vda1      2580480 115080 2465400    5% /
</code></pre>
<pre><code>ubuntu $ touch /root/file{1..10000}
</code></pre>
<pre><code>ubuntu $ ls /root | wc -l
10006
</code></pre>
<pre><code>ubuntu $ df -i /
Filesystem      Inodes  IUsed   IFree IUse% Mounted on
/dev/vda1      2580480 125080 2455400    5% /
</code></pre>
<h1 id="look-at-you-learning-linux-you-looked-at-the-disk-space-and-usage-"><a class="header" href="#look-at-you-learning-linux-you-looked-at-the-disk-space-and-usage-">Look at you, learning Linux! You looked at the disk space and usage! üêß</a></h1>
<p>Next up: <a href="./ip_and_open_port_information.html">IP and open port information</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../linux_labs/lets_do_linux/checking_kernel_and_packages.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../linux_labs/lets_do_linux/ip_and_open_port_information.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../linux_labs/lets_do_linux/checking_kernel_and_packages.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../linux_labs/lets_do_linux/ip_and_open_port_information.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>


    </div>
    </body>
</html>
